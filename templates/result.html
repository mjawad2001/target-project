{% extends "base.html" %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
	<head>
		<title> About </title>

       <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
       <link rel="stylesheet" href="{{ url_for('static', filename='css/result.css') }}" >
       <link rel="stylesheet" href="{{ url_for('static', filename='css/animation.css') }}" >
</head>




<script>
setTimeout(function() {
    $('#mydiv').fadeOut('slow');
}, 5000); // <-- time in milliseconds

</script>
<div id="mydiv">

    <div class="animation01">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>
    <div class="animation02">
        <div></div>
        <div></div>
    </div>
    <div class="animation03">
        <div class="circle">
            <div class="circle_element01"></div>
        </div>
        <div class="circle">
            <div class="circle_element02"></div>
        </div>
        <div class="circle">
            <div class="circle_element03"></div>
        </div>
        <div class="animation04">
            <div class="line_wrapper line_wrapper01">
                <span class="line line01"></span>
            </div>
            <div class="rotate45">
                <div class="line_wrapper line_wrapper02">
                    <span class="line line02"></span>
                </div>
            </div>
            <div class="line_wrapper line_wrapper03">
                <span class="line line03"></span>
            </div>
            <div class="rotate135">
                <div class="line_wrapper line_wrapper04">
                    <span class="line line04"></span>
                </div>
            </div>
            <div class="line_wrapper line_wrapper05">
                <span class="line line05"></span>
            </div>
            <div class="rotate-135">
                <div class="line_wrapper line_wrapper06">
                    <span class="line line06"></span>
                </div>
            </div>
            <div class="line_wrapper line_wrapper07">
                <span class="line line07"></span>
            </div>
            <div class="rotate-45">
                <div class="line_wrapper line_wrapper08">
                    <span class="line line08"></span>
                </div>
            </div>
        </div>
        <div class="animation05">
            <div class="double_wrapper02 green02">
                <div class="double_wrapper01 green01">
                    <div class="double_block green00"></div>
                </div>
            </div>
            <div class="double_wrapper02 navy02">
                <div class="double_wrapper01 navy01">
                    <div class="double_block navy00"></div>
                </div>
            </div>
            <div class="double_wrapper02 yellow02">
                <div class="double_wrapper01 yellow01">
                    <div class="double_block yellow00"></div>
                </div>
            </div>
            <div class="double_wrapper02 blue02">
                <div class="double_wrapper01 blue01">
                    <div class="double_block blue00"></div>
                </div>
            </div>
            <div class="double_wrapper02 red02">
                <div class="double_wrapper01 red01">
                    <div class="double_block red00"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="animation06">
        <div class="rhombus05">
            <div class="rhombus04">
                <div class="rhombus03">
                    <div class="rhombus02">
                        <div class="rhombus01"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="animation07">
        <div class="circle">
            <div class="circle_element01"></div>
        </div>
        <div class="line_wrapper line_wrapper01">
            <span class="line line01"></span>
        </div>
        <div class="rotate60">
            <div class="line_wrapper line_wrapper02">
                <span class="line line02"></span>
            </div>
        </div>
        <div class="rotate120">
            <div class="line_wrapper line_wrapper03">
                <span class="line line03"></span>
            </div>
        </div>
        <div class="line_wrapper line_wrapper04">
            <span class="line line04"></span>
        </div>
        <div class="rotate-120">
            <div class="line_wrapper line_wrapper05">
                <span class="line line05"></span>
            </div>
        </div>
        <div class="rotate-60">
            <div class="line_wrapper line_wrapper06">
                <span class="line line06"></span>
            </div>
        </div>
    </div>
    <div class="animation08">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>
    </div>





<button class="btn btn-outline-secondary btn-block" style="color:black;" id="myBtn" style="margin-bottom: 200px;" >Result</button>

<!-- The Modal -->

<div id="myModal" style='display:none'>
    <div id="popup">   
            <div style="border: 10px solid black;margin-bottom:20px;box-shadow: 0 4px 8px 0 rgba(255,0,0,0.9);" class="modal-content">
    <span class="close">&times;</span>
    <center>
    
    <h4 style="color:Black;">The budget is enough for your nutritional need</h4>
  <h4 style="color:Black;">Money Spent ${{mUsed[1]}}</h4>
  </center>
  </div>
      
    </div>
</div>

<script>
// Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.on = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}

function PopUp(hideOrshow) {
    if (hideOrshow == 'hide') document.getElementById('myModal').style.display = "none";
    else document.getElementById('myModal').removeAttribute('style');
}

window.onload = function () {
    setTimeout(function () {
        PopUp('show');
    }, 500);
}
</script>
<script src=
"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
    </script>


<table style="margin-left:800px;margin-top:10px;"> 
  <tr>
    <th style="color:black;">Shopping List Total</th>
    <th style="color:black;" >Supplemental List Total</th> 
  </tr>
  <tr>
    <td style="color:black;">${{ mUsed[1]}}</td>
    <td style="color:black;">${{ mUsed[2]}}</td> 
  </tr>
</table>

<div class="class1" >
   <span class="span1">
<h2 style="color:black;"> Shopping List</h2>
{%for items in recomended[0]:%}

<div class="column" style="margin-top:10px;"> 

<div class="flip-card" style="padding-right:40px;height:400px;">
  <div class="flip-card-inner">
    <div class="flip-card-front">
      <image src="{{url_for('static',filename = items[1][6] + '.png')}}"  style="width:100%;">
       <p style="color:white;"><b>{{((items[0][0:40]))}}...</b></p> 
       <p style="color:white;"><b>${{((items[1][0]))}}</b></p>
      
    </div>
    <div class="flip-card-back">
      <a href="{{((items[1][5]))}}"><p><b>{{((items[0]))}}</b></p> </a>
    <p><a href="#" class="gfg">${{((items[1][0]))}}</a></p>
  
        <div class="popup">
        <table style="margin-left:600px;margin-top:10px;width:100px;"> 
  <tr>
    <th style="color:black;">Protein</th>
    <th style="color:black;">Carbohydrate</th> 
    <th style="color:black;">Fiber</th> 
  </tr>
  <tr>
    
    <td style="color:black;">0</td> 
     <td style="color:black;">0</td> 
  </tr>
</table>
            
        </div>
   
    
    
     
    </div>
  </div>
</div>
 </div>

{% endfor %} 



<span class="span2" style="margin-top:100px;">
<h2 style="color:black;">Supplemental List</h2>
{%for items in recomended[1]:%}

<div class="column" style="margin-top:10px;"> 

<div class="flip-card" style="padding-right:40px;height:400px;">
  <div class="flip-card-inner">
    <div class="flip-card-front">
      <image src="{{url_for('static',filename = items[1][6] + '.png')}}"  style="width:100%;">
        <p style="color:white;"><b>{{((items[0][0:40]))}}...</b></p> 
       <p style="color:white;"><b>${{((items[1][0]))}}</b></p> 
    </div>
    <div class="flip-card-back">
     <a href="{{((items[1][5]))}}"><p><b>{{((items[0]))}}</b></p> </a>
      <p style="color:white;"><b>${{((items[1][0]))}}</b></p> 
      
      
    </div>
  </div>
</div>
</div>

{% endfor %} 
</span>
</span>








<body style="background-color:white;">
<center>
<label for="css" style="color:black;" > {{b}}</label><br>





</center>
<div>
<p></p>
<div class="container">
  <h2 style='color:black;'>Nutrition</h2>
  <div id="accordion">
    <div class="card">
      <div class="card-header" style="background-color:Black;">
        <a class="collapsed card-link" data-toggle="collapse" href="#collapseTwo" style='color:white;'> 
        Nutrition Details  â†“
      </a>
      </div>
      <div id="collapseTwo" class="collapse" data-parent="#accordion">
        <div class="card-body">
          <table class="table table-striped" style:"margin-bottom: 30px;">
  <thead>
    <tr>
      <th scope="col" style="background-color:white;">Categories</th>
      <th scope="col"style="background-color:white;">Collected</th>
      <th scope="col"style="background-color:white;">Needed</th>
      
    </tr>
  </thead>
  <tbody>
  {% for key, value in stimate.items()%}
      {% if value != 0 %}
        <tr>
          <tr>
            <td style="background-color:white;" >{{key}}</td>
            <td style="background-color:white;">{{value}}</td>
            <td style="background-color:white;">{{nutCal[key]}}</td>
            </tr>
      {% endif %}
    {% endfor %}
  </tbody>
</table>

<script>
        $flag = -1;
  
        $("a.gfg").hover(
            function () {
                $("div.popup").attr("style", "display:block");
            },
            function () {
                if ($flag == -1) {
                    $("div.popup").attr("style", "display:none");
                }
            }
        );
  
        $("a.gfg").click(function () {
            $flag = 1;
        });
    </script>
</html>
</body>


{% endblock %}